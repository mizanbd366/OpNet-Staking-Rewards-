<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OpNet Staking</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#f5f3ee; --surface:#fff; --surface2:#f0ede6; --surface3:#e8e4dc;
  --accent:#e8600a; --accent2:#f59e0b; --text:#1a1714; --text2:#6b6560;
  --border:#e2ddd6; --green:#16a34a; --red:#dc2626;
  --shadow:0 4px 24px rgba(0,0,0,0.08); --shadow-lg:0 12px 48px rgba(0,0,0,0.14);
}
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'DM Sans',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;}

/* HEADER */
header{background:var(--surface);border-bottom:1px solid var(--border);padding:0 1.5rem;display:flex;align-items:center;justify-content:space-between;height:64px;position:sticky;top:0;z-index:200;box-shadow:0 2px 12px rgba(0,0,0,0.05);}
.logo{font-family:'Syne',sans-serif;font-weight:800;font-size:1.25rem;display:flex;align-items:center;gap:8px;}
.logo-dot{width:9px;height:9px;background:var(--accent);border-radius:50%;}
nav{display:flex;gap:2px;}
nav button{background:none;border:none;padding:8px 14px;border-radius:8px;font-family:'DM Sans',sans-serif;font-size:0.875rem;cursor:pointer;color:var(--text2);transition:all .2s;font-weight:500;}
nav button.active,nav button:hover{background:var(--surface2);color:var(--text);}
nav button.active{color:var(--accent);font-weight:600;}
.wallet-btn{background:var(--accent);color:#fff;border:none;padding:9px 18px;border-radius:10px;font-family:'DM Sans',sans-serif;font-size:0.875rem;cursor:pointer;font-weight:600;transition:all .2s;display:flex;align-items:center;gap:7px;white-space:nowrap;}
.wallet-btn:hover{background:#d4540a;transform:translateY(-1px);box-shadow:0 4px 14px rgba(232,96,10,.35);}
.wallet-btn.connected{background:var(--surface2);color:var(--text);border:1.5px solid var(--border);}

/* PAGES */
.page{display:none;padding:1.75rem 1.5rem;max-width:1100px;margin:0 auto;animation:fadeIn .3s ease;}
.page.active{display:block;}
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}

/* DASHBOARD */
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem;}
.stat-card{background:var(--surface);border-radius:16px;padding:1.4rem;border:1px solid var(--border);box-shadow:var(--shadow);transition:transform .2s;}
.stat-card:hover{transform:translateY(-2px);}
.stat-label{font-size:.75rem;color:var(--text2);font-weight:600;text-transform:uppercase;letter-spacing:.06em;margin-bottom:.4rem;}
.stat-value{font-family:'Syne',sans-serif;font-size:1.7rem;font-weight:700;}
.stat-change{font-size:.78rem;margin-top:3px;font-weight:500;}
.stat-change.up{color:var(--green);}
.accent-card{background:linear-gradient(135deg,var(--accent),var(--accent2));color:#fff;}
.accent-card .stat-label{color:rgba(255,255,255,.8);}
.accent-card .stat-change{color:rgba(255,255,255,.9);}
.section-title{font-family:'Syne',sans-serif;font-size:1.1rem;font-weight:700;margin-bottom:1rem;}
.pool-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(290px,1fr));gap:1rem;}
.pool-card{background:var(--surface);border-radius:16px;padding:1.4rem;border:1px solid var(--border);box-shadow:var(--shadow);}
.pool-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem;}
.pool-name{font-family:'Syne',sans-serif;font-weight:700;font-size:.95rem;display:flex;align-items:center;gap:8px;}
.pool-icon{width:34px;height:34px;background:linear-gradient(135deg,var(--accent),var(--accent2));border-radius:9px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:.95rem;}
.apy-badge{background:rgba(22,163,74,.1);color:var(--green);font-size:.76rem;font-weight:700;padding:3px 9px;border-radius:20px;}
.pool-stats{display:grid;grid-template-columns:1fr 1fr;gap:.7rem;margin-bottom:1rem;}
.pool-stat-label{font-size:.72rem;color:var(--text2);margin-bottom:2px;}
.pool-stat-value{font-weight:600;font-size:.9rem;}
.progress-bar{background:var(--surface2);border-radius:4px;height:5px;overflow:hidden;margin-bottom:.8rem;}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent2));border-radius:4px;}
.stake-btn{width:100%;padding:10px;background:var(--accent);color:#fff;border:none;border-radius:10px;font-family:'DM Sans',sans-serif;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s;}
.stake-btn:hover{filter:brightness(1.1);}

/* STAKE FORM */
.stake-container{max-width:540px;margin:0 auto;}
.tab-group{display:flex;background:var(--surface2);border-radius:12px;padding:4px;margin-bottom:1.4rem;}
.tab-btn{flex:1;padding:9px;border:none;background:none;border-radius:9px;font-family:'DM Sans',sans-serif;font-weight:600;cursor:pointer;color:var(--text2);transition:all .2s;font-size:.875rem;}
.tab-btn.active{background:var(--surface);color:var(--accent);box-shadow:0 2px 8px rgba(0,0,0,.08);}
.card{background:var(--surface);border-radius:20px;padding:1.75rem;border:1px solid var(--border);box-shadow:var(--shadow-lg);}
.input-label{font-size:.82rem;font-weight:600;color:var(--text2);margin-bottom:.45rem;display:block;}
.input-wrap{position:relative;margin-bottom:.3rem;}
.input-wrap input{width:100%;padding:13px 70px 13px 14px;border:1.5px solid var(--border);border-radius:12px;font-family:'DM Sans',sans-serif;font-size:1.05rem;font-weight:600;background:var(--surface);color:var(--text);transition:border-color .2s;outline:none;}
.input-wrap input:focus{border-color:var(--accent);}
.input-suffix{position:absolute;right:12px;top:50%;transform:translateY(-50%);font-weight:700;color:var(--text2);font-size:.82rem;pointer-events:none;}
.max-btn{position:absolute;right:46px;top:50%;transform:translateY(-50%);background:var(--accent);color:#fff;border:none;border-radius:5px;padding:3px 7px;font-size:.7rem;font-weight:700;cursor:pointer;}
.balance-row{display:flex;justify-content:space-between;font-size:.8rem;color:var(--text2);margin-bottom:1.25rem;}
.info-box{background:var(--surface2);border-radius:12px;padding:.9rem 1rem;margin-bottom:1.25rem;}
.info-row{display:flex;justify-content:space-between;font-size:.85rem;padding:3px 0;}
.info-row span:first-child{color:var(--text2);}
.info-row span:last-child{font-weight:600;}
.action-btn{width:100%;padding:13px;background:var(--accent);color:#fff;border:none;border-radius:12px;font-family:'Syne',sans-serif;font-size:.95rem;font-weight:700;cursor:pointer;transition:all .2s;}
.action-btn:hover{filter:brightness(1.08);transform:translateY(-1px);}

/* REWARDS */
.rewards-grid{display:grid;grid-template-columns:1fr 2fr;gap:1.5rem;}
.rewards-summary{background:linear-gradient(135deg,var(--accent),var(--accent2));color:#fff;border-radius:20px;padding:1.75rem;}
.rewards-summary h3{font-family:'Syne',sans-serif;font-size:.85rem;opacity:.8;margin-bottom:.4rem;}
.rewards-amount{font-family:'Syne',sans-serif;font-size:2.2rem;font-weight:800;margin-bottom:1.25rem;}
.claim-all-btn{background:#fff;color:var(--accent);border:none;padding:11px 22px;border-radius:10px;font-family:'Syne',sans-serif;font-weight:700;cursor:pointer;transition:all .2s;font-size:.9rem;}
.claim-all-btn:hover{transform:translateY(-1px);box-shadow:0 4px 14px rgba(0,0,0,.15);}
.reward-list{background:var(--surface);border-radius:20px;padding:1.4rem;border:1px solid var(--border);box-shadow:var(--shadow);}
.reward-item{display:flex;align-items:center;justify-content:space-between;padding:13px 0;border-bottom:1px solid var(--border);}
.reward-item:last-child{border-bottom:none;}
.reward-info{display:flex;align-items:center;gap:11px;}
.reward-icon{width:38px;height:38px;background:var(--surface2);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1rem;}
.reward-name{font-weight:600;font-size:.9rem;}
.reward-sub{font-size:.76rem;color:var(--text2);}
.reward-val{font-weight:700;font-size:.9rem;text-align:right;}
.reward-usd{font-size:.75rem;color:var(--text2);text-align:right;}

/* HISTORY */
.history-table{background:var(--surface);border-radius:20px;border:1px solid var(--border);overflow:hidden;box-shadow:var(--shadow);}
.table-header{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;padding:12px 18px;background:var(--surface2);font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:var(--text2);}
.table-row{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;padding:14px 18px;border-top:1px solid var(--border);align-items:center;transition:background .15s;font-size:.85rem;}
.table-row:hover{background:var(--surface2);}
.badge{padding:3px 9px;border-radius:20px;font-size:.74rem;font-weight:700;}
.badge.stake{background:rgba(22,163,74,.1);color:var(--green);}
.badge.unstake{background:rgba(220,38,38,.1);color:var(--red);}
.badge.claim{background:rgba(232,96,10,.1);color:var(--accent);}
.badge.success{background:rgba(22,163,74,.1);color:var(--green);}

/* WALLET MODAL */
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:1000;display:flex;align-items:center;justify-content:center;padding:1rem;backdrop-filter:blur(4px);opacity:0;pointer-events:none;transition:opacity .25s;}
.modal-overlay.show{opacity:1;pointer-events:all;}
.modal{background:var(--surface);border-radius:24px;padding:2rem;width:100%;max-width:420px;box-shadow:0 24px 80px rgba(0,0,0,.2);transform:translateY(20px);transition:transform .25s;position:relative;}
.modal-overlay.show .modal{transform:translateY(0);}
.modal-title{font-family:'Syne',sans-serif;font-size:1.2rem;font-weight:800;margin-bottom:.3rem;}
.modal-sub{font-size:.85rem;color:var(--text2);margin-bottom:1.5rem;}
.wallet-option{display:flex;align-items:center;gap:14px;padding:14px 16px;border-radius:14px;border:1.5px solid var(--border);cursor:pointer;transition:all .2s;margin-bottom:.75rem;background:var(--surface);}
.wallet-option:hover{border-color:var(--accent);background:rgba(232,96,10,.04);}
.wallet-logo{width:44px;height:44px;border-radius:12px;background:var(--surface2);display:flex;align-items:center;justify-content:center;font-size:1.5rem;flex-shrink:0;}
.wallet-name{font-weight:700;font-size:.95rem;}
.wallet-desc{font-size:.78rem;color:var(--text2);}
.wallet-arrow{margin-left:auto;color:var(--text2);font-size:1.2rem;flex-shrink:0;}
.modal-close{position:absolute;top:1.25rem;right:1.25rem;background:var(--surface2);border:none;border-radius:50%;width:32px;height:32px;cursor:pointer;font-size:.9rem;display:flex;align-items:center;justify-content:center;color:var(--text2);}
.modal-close:hover{background:var(--surface3);}
.divider{display:flex;align-items:center;gap:.75rem;margin:.75rem 0;color:var(--text2);font-size:.8rem;}
.divider::before,.divider::after{content:'';flex:1;height:1px;background:var(--border);}
.install-link{display:block;text-align:center;color:var(--accent);font-size:.82rem;text-decoration:none;margin-top:.5rem;padding:4px;}
.install-link:hover{text-decoration:underline;}
.mobile-warning{margin-top:1rem;padding:.75rem;background:rgba(245,158,11,.08);border:1px solid rgba(245,158,11,.2);border-radius:10px;font-size:.78rem;color:#92400e;line-height:1.5;}

/* CONNECT HINT */
.connect-hint{text-align:center;padding:2.5rem;background:var(--surface);border-radius:20px;border:2px dashed var(--border);margin:1rem 0;}
.connect-hint h3{font-family:'Syne',sans-serif;font-size:1.1rem;margin-bottom:.4rem;}
.connect-hint p{color:var(--text2);margin-bottom:1.25rem;font-size:.875rem;}

/* TOAST */
.toast{position:fixed;bottom:1.5rem;right:1.5rem;background:var(--text);color:#fff;padding:12px 18px;border-radius:12px;font-size:.875rem;font-weight:500;transform:translateY(80px);opacity:0;transition:all .3s;z-index:2000;max-width:320px;box-shadow:var(--shadow-lg);}
.toast.show{transform:translateY(0);opacity:1;}

/* SPINNER */
.spinner{display:inline-block;width:14px;height:14px;border:2px solid rgba(0,0,0,.15);border-top-color:var(--accent);border-radius:50%;animation:spin .7s linear infinite;vertical-align:middle;}
@keyframes spin{to{transform:rotate(360deg)}}

@media(max-width:700px){
  nav button{padding:6px 10px;font-size:.8rem;}
  .wallet-btn{padding:8px 12px;font-size:.8rem;}
  .rewards-grid{grid-template-columns:1fr;}
  .table-header,.table-row{grid-template-columns:1fr 1fr 1fr;}
  .table-header>*:nth-child(4),.table-row>*:nth-child(4),
  .table-header>*:nth-child(5),.table-row>*:nth-child(5){display:none;}
}
</style>
</head>
<body>

<!-- HEADER -->
<header>
  <div class="logo"><div class="logo-dot"></div>OpNet Staking</div>
  <nav>
    <button class="active" onclick="showPage('dashboard',this)">Dashboard</button>
    <button onclick="showPage('stake',this)">Stake</button>
    <button onclick="showPage('rewards',this)">Rewards</button>
    <button onclick="showPage('history',this)">History</button>
  </nav>
  <button class="wallet-btn" id="walletBtn" onclick="handleWalletClick()">
    <span id="walletIcon">ЁЯФЧ</span>
    <span id="walletText">Connect OpWallet</span>
  </button>
</header>

<!-- WALLET MODAL -->
<div class="modal-overlay" id="walletModal" onclick="closeModalOutside(event)">
  <div class="modal">
    <button class="modal-close" onclick="closeModal()">тЬХ</button>
    <div class="modal-title">Wallet Connect ржХрж░рзБржи</div>
    <div class="modal-sub">ржЖржкржирж╛рж░ Bitcoin wallet ржмрзЗржЫрзЗ ржирж┐ржи</div>

    <div class="wallet-option" id="opt-opwallet" onclick="connectProvider('opwallet')">
      <div class="wallet-logo">ЁЯЯа</div>
      <div>
        <div class="wallet-name">OpWallet</div>
        <div class="wallet-desc">Bitcoin & OpNet тАФ Official Wallet</div>
      </div>
      <div class="wallet-arrow" id="arr-opwallet">тА║</div>
    </div>

    <div class="wallet-option" id="opt-unisat" onclick="connectProvider('unisat')">
      <div class="wallet-logo">ЁЯЯг</div>
      <div>
        <div class="wallet-name">UniSat Wallet</div>
        <div class="wallet-desc">Bitcoin Ordinals & BRC-20</div>
      </div>
      <div class="wallet-arrow" id="arr-unisat">тА║</div>
    </div>

    <div class="divider">Install ржХрж░рзБржи</div>

    <a href="https://chromewebstore.google.com/detail/opwallet/pmbjpcmaaladnfpacpmhmnfmpklgbdjb" target="_blank" class="install-link">
      ЁЯУе OpWallet тАФ Chrome Extension
    </a>
    <a href="https://unisat.io/download" target="_blank" class="install-link">
      ЁЯУе UniSat Wallet тАФ Chrome Extension
    </a>

    <div class="mobile-warning">
      тЪая╕П <strong>ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг:</strong> ржПржЗ wallet extensions рж╢рзБржзрзБржорж╛рждрзНрж░ <strong>Desktop Chrome/Brave browser</strong>-ржП ржХрж╛ржЬ ржХрж░рзЗред Mobile browser-ржП ржХрж╛ржЬ ржХрж░ржмрзЗ ржирж╛ред Desktop-ржП extension install ржХрж░рзЗ ржПржЗ рж╕рж╛ржЗржЯ ржЦрзБрж▓рзБржиред
    </div>
  </div>
</div>

<!-- DASHBOARD -->
<div class="page active" id="page-dashboard">
  <div style="margin-bottom:1.5rem;">
    <h1 style="font-family:'Syne',sans-serif;font-size:1.5rem;font-weight:800;">Dashboard</h1>
    <p style="color:var(--text2);font-size:.875rem;margin-top:3px;">Your staking overview at a glance</p>
  </div>
  <div class="stats-grid">
    <div class="stat-card accent-card">
      <div class="stat-label">Total Staked</div>
      <div class="stat-value" id="dash-staked">0 OP</div>
      <div class="stat-change up">тЖС +2.4% this week</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Pending Rewards</div>
      <div class="stat-value" id="dash-rewards" style="color:var(--accent)">0 OP</div>
      <div class="stat-change up">тЖС Live accruing</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Portfolio Value</div>
      <div class="stat-value" id="dash-value">$0.00</div>
      <div class="stat-change up">тЖС +$12.40</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Best APY</div>
      <div class="stat-value" style="color:var(--green)">24.5%</div>
      <div class="stat-change up">OP/BTC Pool</div>
    </div>
  </div>

  <div class="section-title">Active Staking Pools</div>
  <div class="pool-grid">
    <div class="pool-card">
      <div class="pool-header">
        <div class="pool-name"><div class="pool-icon">тмб</div>OP / BTC</div>
        <div class="apy-badge">24.5% APY</div>
      </div>
      <div class="pool-stats">
        <div><div class="pool-stat-label">Total Liquidity</div><div class="pool-stat-value">$4.2M</div></div>
        <div><div class="pool-stat-label">My Stake</div><div class="pool-stat-value" id="p1-stake">0 OP</div></div>
        <div><div class="pool-stat-label">Min Lock</div><div class="pool-stat-value">7 Days</div></div>
        <div><div class="pool-stat-label">Participants</div><div class="pool-stat-value">1,248</div></div>
      </div>
      <div class="progress-bar"><div class="progress-fill" style="width:72%"></div></div>
      <div style="font-size:.75rem;color:var(--text2);margin-bottom:.9rem;">72% pool capacity filled</div>
      <button class="stake-btn" onclick="goStake(0)">Stake Now тЖТ</button>
    </div>
    <div class="pool-card">
      <div class="pool-header">
        <div class="pool-name"><div class="pool-icon" style="background:linear-gradient(135deg,#3b82f6,#8b5cf6)">тмб</div>OP / ETH</div>
        <div class="apy-badge">18.2% APY</div>
      </div>
      <div class="pool-stats">
        <div><div class="pool-stat-label">Total Liquidity</div><div class="pool-stat-value">$2.8M</div></div>
        <div><div class="pool-stat-label">My Stake</div><div class="pool-stat-value">0 OP</div></div>
        <div><div class="pool-stat-label">Min Lock</div><div class="pool-stat-value">3 Days</div></div>
        <div><div class="pool-stat-label">Participants</div><div class="pool-stat-value">894</div></div>
      </div>
      <div class="progress-bar"><div class="progress-fill" style="width:48%;background:linear-gradient(90deg,#3b82f6,#8b5cf6)"></div></div>
      <div style="font-size:.75rem;color:var(--text2);margin-bottom:.9rem;">48% pool capacity filled</div>
      <button class="stake-btn" style="background:#3b82f6" onclick="goStake(1)">Stake Now тЖТ</button>
    </div>
    <div class="pool-card">
      <div class="pool-header">
        <div class="pool-name"><div class="pool-icon" style="background:linear-gradient(135deg,#16a34a,#059669)">тмб</div>OP Solo</div>
        <div class="apy-badge">12.8% APY</div>
      </div>
      <div class="pool-stats">
        <div><div class="pool-stat-label">Total Liquidity</div><div class="pool-stat-value">$1.1M</div></div>
        <div><div class="pool-stat-label">My Stake</div><div class="pool-stat-value">0 OP</div></div>
        <div><div class="pool-stat-label">Min Lock</div><div class="pool-stat-value">1 Day</div></div>
        <div><div class="pool-stat-label">Participants</div><div class="pool-stat-value">562</div></div>
      </div>
      <div class="progress-bar"><div class="progress-fill" style="width:31%;background:linear-gradient(90deg,#16a34a,#059669)"></div></div>
      <div style="font-size:.75rem;color:var(--text2);margin-bottom:.9rem;">31% pool capacity filled</div>
      <button class="stake-btn" style="background:#16a34a" onclick="goStake(2)">Stake Now тЖТ</button>
    </div>
  </div>
</div>

<!-- STAKE -->
<div class="page" id="page-stake">
  <div style="margin-bottom:1.5rem;text-align:center;">
    <h1 style="font-family:'Syne',sans-serif;font-size:1.5rem;font-weight:800;">Stake & Unstake</h1>
    <p style="color:var(--text2);font-size:.875rem;margin-top:3px;">Earn rewards by staking your OP tokens</p>
  </div>
  <div class="stake-container">
    <!-- Not connected -->
    <div class="connect-hint" id="stake-hint">
      <div style="font-size:2.5rem;margin-bottom:.75rem;">ЁЯФТ</div>
      <h3>Wallet Connect ржХрж░рзБржи</h3>
      <p>Stake ржХрж░рждрзЗ ржкрзНрж░ржержорзЗ ржЖржкржирж╛рж░ OpWallet ржмрж╛ UniSat Wallet connect ржХрж░рзБржи</p>
      <button class="wallet-btn" style="margin:0 auto" onclick="openModal()">ЁЯФЧ Connect Wallet</button>
    </div>
    <!-- Connected -->
    <di
